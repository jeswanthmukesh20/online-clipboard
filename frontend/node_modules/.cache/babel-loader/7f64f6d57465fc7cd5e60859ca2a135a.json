{"ast":null,"code":"import { __read } from 'tslib';\nimport sync from 'framesync';\nimport { useEffect } from 'react';\nimport { useInstantLayoutTransition } from '../projection/use-instant-layout-transition.mjs';\nimport { useForceUpdate } from './use-force-update.mjs';\nimport { instantAnimationState } from './use-instant-transition-state.mjs';\n\nfunction useInstantTransition() {\n  var _a = __read(useForceUpdate(), 2),\n      forceUpdate = _a[0],\n      forcedRenderCount = _a[1];\n\n  var startInstantLayoutTransition = useInstantLayoutTransition();\n  useEffect(function () {\n    /**\r\n     * Unblock after two animation frames, otherwise this will unblock too soon.\r\n     */\n    sync.postRender(function () {\n      return sync.postRender(function () {\n        return instantAnimationState.current = false;\n      });\n    });\n  }, [forcedRenderCount]);\n  return function (callback) {\n    startInstantLayoutTransition(function () {\n      instantAnimationState.current = true;\n      forceUpdate();\n      callback();\n    });\n  };\n}\n\nexport { useInstantTransition };","map":{"version":3,"sources":["C:/Users/jeswa/Documents/online-clipboard/frontend/node_modules/framer-motion/dist/es/utils/use-instant-transition.mjs"],"names":["__read","sync","useEffect","useInstantLayoutTransition","useForceUpdate","instantAnimationState","useInstantTransition","_a","forceUpdate","forcedRenderCount","startInstantLayoutTransition","postRender","current","callback"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,0BAAT,QAA2C,iDAA3C;AACA,SAASC,cAAT,QAA+B,wBAA/B;AACA,SAASC,qBAAT,QAAsC,oCAAtC;;AAEA,SAASC,oBAAT,GAAgC;AAC5B,MAAIC,EAAE,GAAGP,MAAM,CAACI,cAAc,EAAf,EAAmB,CAAnB,CAAf;AAAA,MAAsCI,WAAW,GAAGD,EAAE,CAAC,CAAD,CAAtD;AAAA,MAA2DE,iBAAiB,GAAGF,EAAE,CAAC,CAAD,CAAjF;;AACA,MAAIG,4BAA4B,GAAGP,0BAA0B,EAA7D;AACAD,EAAAA,SAAS,CAAC,YAAY;AAClB;AACR;AACA;AACQD,IAAAA,IAAI,CAACU,UAAL,CAAgB,YAAY;AACxB,aAAOV,IAAI,CAACU,UAAL,CAAgB,YAAY;AAAE,eAAQN,qBAAqB,CAACO,OAAtB,GAAgC,KAAxC;AAAiD,OAA/E,CAAP;AACH,KAFD;AAGH,GAPQ,EAON,CAACH,iBAAD,CAPM,CAAT;AAQA,SAAO,UAAUI,QAAV,EAAoB;AACvBH,IAAAA,4BAA4B,CAAC,YAAY;AACrCL,MAAAA,qBAAqB,CAACO,OAAtB,GAAgC,IAAhC;AACAJ,MAAAA,WAAW;AACXK,MAAAA,QAAQ;AACX,KAJ2B,CAA5B;AAKH,GAND;AAOH;;AAED,SAASP,oBAAT","sourcesContent":["import { __read } from 'tslib';\r\nimport sync from 'framesync';\r\nimport { useEffect } from 'react';\r\nimport { useInstantLayoutTransition } from '../projection/use-instant-layout-transition.mjs';\r\nimport { useForceUpdate } from './use-force-update.mjs';\r\nimport { instantAnimationState } from './use-instant-transition-state.mjs';\r\n\r\nfunction useInstantTransition() {\r\n    var _a = __read(useForceUpdate(), 2), forceUpdate = _a[0], forcedRenderCount = _a[1];\r\n    var startInstantLayoutTransition = useInstantLayoutTransition();\r\n    useEffect(function () {\r\n        /**\r\n         * Unblock after two animation frames, otherwise this will unblock too soon.\r\n         */\r\n        sync.postRender(function () {\r\n            return sync.postRender(function () { return (instantAnimationState.current = false); });\r\n        });\r\n    }, [forcedRenderCount]);\r\n    return function (callback) {\r\n        startInstantLayoutTransition(function () {\r\n            instantAnimationState.current = true;\r\n            forceUpdate();\r\n            callback();\r\n        });\r\n    };\r\n}\r\n\r\nexport { useInstantTransition };\r\n"]},"metadata":{},"sourceType":"module"}