{"ast":null,"code":"import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { useState, useCallback, useEffect, useLayoutEffect } from 'react';\nexport function renderCar(WrappedComponent, defaults) {\n  function State(_a) {\n    var stateRef = _a.stateRef,\n        props = _a.props;\n    var renderTarget = useCallback(function SideTarget() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      useLayoutEffect(function () {\n        stateRef.current(args);\n      });\n      return null;\n    }, []); // @ts-ignore\n\n    return React.createElement(WrappedComponent, __assign({}, props, {\n      children: renderTarget\n    }));\n  }\n\n  var Children = React.memo(function (_a) {\n    var stateRef = _a.stateRef,\n        defaultState = _a.defaultState,\n        children = _a.children;\n\n    var _b = useState(defaultState.current),\n        state = _b[0],\n        setState = _b[1];\n\n    useEffect(function () {\n      stateRef.current = setState;\n    }, []);\n    return children.apply(void 0, state);\n  }, function () {\n    return true;\n  });\n  return function Combiner(props) {\n    var defaultState = React.useRef(defaults(props));\n    var ref = React.useRef(function (state) {\n      return defaultState.current = state;\n    });\n    return React.createElement(React.Fragment, null, React.createElement(State, {\n      stateRef: ref,\n      props: props\n    }), React.createElement(Children, {\n      stateRef: ref,\n      defaultState: defaultState,\n      children: props.children\n    }));\n  };\n}","map":{"version":3,"sources":["C:/Users/jeswa/Documents/online-clipboard/frontend/node_modules/use-sidecar/dist/es2015/renderProp.js"],"names":["__assign","React","useState","useCallback","useEffect","useLayoutEffect","renderCar","WrappedComponent","defaults","State","_a","stateRef","props","renderTarget","SideTarget","args","_i","arguments","length","current","createElement","children","Children","memo","defaultState","_b","state","setState","apply","Combiner","useRef","ref","Fragment"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,WAAnB,EAAgCC,SAAhC,EAA2CC,eAA3C,QAAkE,OAAlE;AACA,OAAO,SAASC,SAAT,CAAmBC,gBAAnB,EAAqCC,QAArC,EAA+C;AAClD,WAASC,KAAT,CAAeC,EAAf,EAAmB;AACf,QAAIC,QAAQ,GAAGD,EAAE,CAACC,QAAlB;AAAA,QAA4BC,KAAK,GAAGF,EAAE,CAACE,KAAvC;AACA,QAAIC,YAAY,GAAGV,WAAW,CAAC,SAASW,UAAT,GAAsB;AACjD,UAAIC,IAAI,GAAG,EAAX;;AACA,WAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGC,SAAS,CAACC,MAAhC,EAAwCF,EAAE,EAA1C,EAA8C;AAC1CD,QAAAA,IAAI,CAACC,EAAD,CAAJ,GAAWC,SAAS,CAACD,EAAD,CAApB;AACH;;AACDX,MAAAA,eAAe,CAAC,YAAY;AACxBM,QAAAA,QAAQ,CAACQ,OAAT,CAAiBJ,IAAjB;AACH,OAFc,CAAf;AAGA,aAAO,IAAP;AACH,KAT6B,EAS3B,EAT2B,CAA9B,CAFe,CAYf;;AACA,WAAOd,KAAK,CAACmB,aAAN,CAAoBb,gBAApB,EAAsCP,QAAQ,CAAC,EAAD,EAAKY,KAAL,EAAY;AAAES,MAAAA,QAAQ,EAAER;AAAZ,KAAZ,CAA9C,CAAP;AACH;;AACD,MAAIS,QAAQ,GAAGrB,KAAK,CAACsB,IAAN,CAAW,UAAUb,EAAV,EAAc;AACpC,QAAIC,QAAQ,GAAGD,EAAE,CAACC,QAAlB;AAAA,QAA4Ba,YAAY,GAAGd,EAAE,CAACc,YAA9C;AAAA,QAA4DH,QAAQ,GAAGX,EAAE,CAACW,QAA1E;;AACA,QAAII,EAAE,GAAGvB,QAAQ,CAACsB,YAAY,CAACL,OAAd,CAAjB;AAAA,QAAyCO,KAAK,GAAGD,EAAE,CAAC,CAAD,CAAnD;AAAA,QAAwDE,QAAQ,GAAGF,EAAE,CAAC,CAAD,CAArE;;AACArB,IAAAA,SAAS,CAAC,YAAY;AAClBO,MAAAA,QAAQ,CAACQ,OAAT,GAAmBQ,QAAnB;AACH,KAFQ,EAEN,EAFM,CAAT;AAGA,WAAON,QAAQ,CAACO,KAAT,CAAe,KAAK,CAApB,EAAuBF,KAAvB,CAAP;AACH,GAPc,EAOZ,YAAY;AAAE,WAAO,IAAP;AAAc,GAPhB,CAAf;AAQA,SAAO,SAASG,QAAT,CAAkBjB,KAAlB,EAAyB;AAC5B,QAAIY,YAAY,GAAGvB,KAAK,CAAC6B,MAAN,CAAatB,QAAQ,CAACI,KAAD,CAArB,CAAnB;AACA,QAAImB,GAAG,GAAG9B,KAAK,CAAC6B,MAAN,CAAa,UAAUJ,KAAV,EAAiB;AAAE,aAAQF,YAAY,CAACL,OAAb,GAAuBO,KAA/B;AAAwC,KAAxE,CAAV;AACA,WAAQzB,KAAK,CAACmB,aAAN,CAAoBnB,KAAK,CAAC+B,QAA1B,EAAoC,IAApC,EACJ/B,KAAK,CAACmB,aAAN,CAAoBX,KAApB,EAA2B;AAAEE,MAAAA,QAAQ,EAAEoB,GAAZ;AAAiBnB,MAAAA,KAAK,EAAEA;AAAxB,KAA3B,CADI,EAEJX,KAAK,CAACmB,aAAN,CAAoBE,QAApB,EAA8B;AAAEX,MAAAA,QAAQ,EAAEoB,GAAZ;AAAiBP,MAAAA,YAAY,EAAEA,YAA/B;AAA6CH,MAAAA,QAAQ,EAAET,KAAK,CAACS;AAA7D,KAA9B,CAFI,CAAR;AAGH,GAND;AAOH","sourcesContent":["import { __assign } from \"tslib\";\r\nimport * as React from 'react';\r\nimport { useState, useCallback, useEffect, useLayoutEffect } from 'react';\r\nexport function renderCar(WrappedComponent, defaults) {\r\n    function State(_a) {\r\n        var stateRef = _a.stateRef, props = _a.props;\r\n        var renderTarget = useCallback(function SideTarget() {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            useLayoutEffect(function () {\r\n                stateRef.current(args);\r\n            });\r\n            return null;\r\n        }, []);\r\n        // @ts-ignore\r\n        return React.createElement(WrappedComponent, __assign({}, props, { children: renderTarget }));\r\n    }\r\n    var Children = React.memo(function (_a) {\r\n        var stateRef = _a.stateRef, defaultState = _a.defaultState, children = _a.children;\r\n        var _b = useState(defaultState.current), state = _b[0], setState = _b[1];\r\n        useEffect(function () {\r\n            stateRef.current = setState;\r\n        }, []);\r\n        return children.apply(void 0, state);\r\n    }, function () { return true; });\r\n    return function Combiner(props) {\r\n        var defaultState = React.useRef(defaults(props));\r\n        var ref = React.useRef(function (state) { return (defaultState.current = state); });\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(State, { stateRef: ref, props: props }),\r\n            React.createElement(Children, { stateRef: ref, defaultState: defaultState, children: props.children })));\r\n    };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}