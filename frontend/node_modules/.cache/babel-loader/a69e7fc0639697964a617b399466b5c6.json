{"ast":null,"code":"import { __rest, __assign, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\n\nfunction isCSSVariable(value) {\n  return typeof value === \"string\" && value.startsWith(\"var(--\");\n}\n/**\r\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\r\n *\r\n * ```\r\n * `var(--foo, #fff)` => [`--foo`, '#fff']\r\n * ```\r\n *\r\n * @param current\r\n */\n\n\nvar cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\n\nfunction parseCSSVariable(current) {\n  var match = cssVariableRegex.exec(current);\n  if (!match) return [,];\n\n  var _a = __read(match, 3),\n      token = _a[1],\n      fallback = _a[2];\n\n  return [token, fallback];\n}\n\nvar maxDepth = 4;\n\nfunction getVariableValue(current, element, depth) {\n  if (depth === void 0) {\n    depth = 1;\n  }\n\n  invariant(depth <= maxDepth, \"Max CSS variable fallback depth detected in property \\\"\".concat(current, \"\\\". This may indicate a circular fallback dependency.\"));\n\n  var _a = __read(parseCSSVariable(current), 2),\n      token = _a[0],\n      fallback = _a[1]; // No CSS variable detected\n\n\n  if (!token) return; // Attempt to read this CSS variable off the element\n\n  var resolved = window.getComputedStyle(element).getPropertyValue(token);\n\n  if (resolved) {\n    return resolved.trim();\n  } else if (isCSSVariable(fallback)) {\n    // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\n    return getVariableValue(fallback, element, depth + 1);\n  } else {\n    return fallback;\n  }\n}\n/**\r\n * Resolve CSS variables from\r\n *\r\n * @internal\r\n */\n\n\nfunction resolveCSSVariables(visualElement, _a, transitionEnd) {\n  var _b;\n\n  var target = __rest(_a, []);\n\n  var element = visualElement.getInstance();\n  if (!(element instanceof Element)) return {\n    target: target,\n    transitionEnd: transitionEnd\n  }; // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\n  // only if they change but I think this reads clearer and this isn't a performance-critical path.\n\n  if (transitionEnd) {\n    transitionEnd = __assign({}, transitionEnd);\n  } // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\n\n\n  visualElement.forEachValue(function (value) {\n    var current = value.get();\n    if (!isCSSVariable(current)) return;\n    var resolved = getVariableValue(current, element);\n    if (resolved) value.set(resolved);\n  }); // Cycle through every target property and resolve CSS variables. Currently\n  // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\n\n  for (var key in target) {\n    var current = target[key];\n    if (!isCSSVariable(current)) continue;\n    var resolved = getVariableValue(current, element);\n    if (!resolved) continue; // Clone target if it hasn't already been\n\n    target[key] = resolved; // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\n    // CSS variable. This will ensure that after the animation the component will reflect\n    // changes in the value of the CSS variable.\n\n    if (transitionEnd) (_b = transitionEnd[key]) !== null && _b !== void 0 ? _b : transitionEnd[key] = current;\n  }\n\n  return {\n    target: target,\n    transitionEnd: transitionEnd\n  };\n}\n\nexport { cssVariableRegex, parseCSSVariable, resolveCSSVariables };","map":{"version":3,"sources":["C:/Users/jeswa/Documents/online-clipboard/frontend/node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.mjs"],"names":["__rest","__assign","__read","invariant","isCSSVariable","value","startsWith","cssVariableRegex","parseCSSVariable","current","match","exec","_a","token","fallback","maxDepth","getVariableValue","element","depth","concat","resolved","window","getComputedStyle","getPropertyValue","trim","resolveCSSVariables","visualElement","transitionEnd","_b","target","getInstance","Element","forEachValue","get","set","key"],"mappings":"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","sourcesContent":["import { __rest, __assign, __read } from 'tslib';\r\nimport { invariant } from 'hey-listen';\r\n\r\nfunction isCSSVariable(value) {\r\n    return typeof value === \"string\" && value.startsWith(\"var(--\");\r\n}\r\n/**\r\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\r\n *\r\n * ```\r\n * `var(--foo, #fff)` => [`--foo`, '#fff']\r\n * ```\r\n *\r\n * @param current\r\n */\r\nvar cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\r\nfunction parseCSSVariable(current) {\r\n    var match = cssVariableRegex.exec(current);\r\n    if (!match)\r\n        return [,];\r\n    var _a = __read(match, 3), token = _a[1], fallback = _a[2];\r\n    return [token, fallback];\r\n}\r\nvar maxDepth = 4;\r\nfunction getVariableValue(current, element, depth) {\r\n    if (depth === void 0) { depth = 1; }\r\n    invariant(depth <= maxDepth, \"Max CSS variable fallback depth detected in property \\\"\".concat(current, \"\\\". This may indicate a circular fallback dependency.\"));\r\n    var _a = __read(parseCSSVariable(current), 2), token = _a[0], fallback = _a[1];\r\n    // No CSS variable detected\r\n    if (!token)\r\n        return;\r\n    // Attempt to read this CSS variable off the element\r\n    var resolved = window.getComputedStyle(element).getPropertyValue(token);\r\n    if (resolved) {\r\n        return resolved.trim();\r\n    }\r\n    else if (isCSSVariable(fallback)) {\r\n        // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\r\n        return getVariableValue(fallback, element, depth + 1);\r\n    }\r\n    else {\r\n        return fallback;\r\n    }\r\n}\r\n/**\r\n * Resolve CSS variables from\r\n *\r\n * @internal\r\n */\r\nfunction resolveCSSVariables(visualElement, _a, transitionEnd) {\r\n    var _b;\r\n    var target = __rest(_a, []);\r\n    var element = visualElement.getInstance();\r\n    if (!(element instanceof Element))\r\n        return { target: target, transitionEnd: transitionEnd };\r\n    // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\r\n    // only if they change but I think this reads clearer and this isn't a performance-critical path.\r\n    if (transitionEnd) {\r\n        transitionEnd = __assign({}, transitionEnd);\r\n    }\r\n    // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\r\n    visualElement.forEachValue(function (value) {\r\n        var current = value.get();\r\n        if (!isCSSVariable(current))\r\n            return;\r\n        var resolved = getVariableValue(current, element);\r\n        if (resolved)\r\n            value.set(resolved);\r\n    });\r\n    // Cycle through every target property and resolve CSS variables. Currently\r\n    // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\r\n    for (var key in target) {\r\n        var current = target[key];\r\n        if (!isCSSVariable(current))\r\n            continue;\r\n        var resolved = getVariableValue(current, element);\r\n        if (!resolved)\r\n            continue;\r\n        // Clone target if it hasn't already been\r\n        target[key] = resolved;\r\n        // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\r\n        // CSS variable. This will ensure that after the animation the component will reflect\r\n        // changes in the value of the CSS variable.\r\n        if (transitionEnd)\r\n            (_b = transitionEnd[key]) !== null && _b !== void 0 ? _b : (transitionEnd[key] = current);\r\n    }\r\n    return { target: target, transitionEnd: transitionEnd };\r\n}\r\n\r\nexport { cssVariableRegex, parseCSSVariable, resolveCSSVariables };\r\n"]},"metadata":{},"sourceType":"module"}